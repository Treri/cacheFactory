(function(e,n){typeof exports==="object"&&typeof module!=="undefined"?n(exports):typeof define==="function"&&define.amd?define(["exports"],n):n(e.cacheFactory=e.cacheFactory||{})})(this,function(e){"use strict";function n(){var e=[];for(var t=0;t<arguments.length;t++){e[t-0]=arguments[t]}var r={};var i=false;var f=0;var o=arguments.length;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){i=arguments[0];f++}var u=function(e){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t)){if(i&&Object.prototype.toString.call(e[t])==="[object Object]"){r[t]=n(true,r[t],e[t])}else{r[t]=e[t]}}}};for(;f<o;f++){var c=arguments[f];u(c)}return r}function t(){return Object.create(null)}var r={};var i=function(e,i){if(i===void 0){i={}}if(e in r){throw new Error(e+" is already taken")}var f=0,o=n({},i,{id:e}),u=t(),c=i.capacity||Number.MAX_VALUE,l=t(),a=null,v=null;return r[e]={put:function(e,n){if(n===undefined)return;if(c<Number.MAX_VALUE){var t=l[e]||(l[e]={key:e});p(t)}if(!(e in u))f++;u[e]=n;if(f>c){this.remove(v.key)}return n},get:function(e){if(c<Number.MAX_VALUE){var n=l[e];if(!n)return;p(n)}return u[e]},remove:function(e){if(c<Number.MAX_VALUE){var n=l[e];if(!n)return;if(n==a)a=n.p;if(n==v)v=n.n;d(n.n,n.p);delete l[e]}if(!(e in u))return;delete u[e];f--},removeAll:function(){u=t();f=0;l=t();a=v=null},destroy:function(){u=null;o=null;l=null;delete r[e]},info:function(){return n({},o,{size:f})}};function p(e){if(e!=a){if(!v){v=e}else if(v==e){v=e.n}d(e.n,e.p);d(e,a);a=e;a.n=null}}function d(e,n){if(e!=n){if(e)e.p=n;if(n)n.n=e}}};i.info=function(){var e={};Object.keys(r).forEach(function(n){e[n]=r[n].info()});return e};i.get=function(e){return r[e]};e["default"]=i;Object.defineProperty(e,"__esModule",{value:true})});